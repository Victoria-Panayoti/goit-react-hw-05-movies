{"version":3,"file":"static/js/257.14f5b9b0.chunk.js","mappings":"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","sources":["components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","pages/MovieDetails/MovieDetails.styled.jsx","pages/MovieDetails/MovieDetails.jsx","service/Api.jsx"],"sourcesContent":["import styled from 'styled-components';\nexport const LoaderBox = styled.div`\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n`;","import { RotatingLines } from 'react-loader-spinner';\nimport { LoaderBox } from './Loader.styled';\n\nexport const Loader = () => {\n  return (\n    <LoaderBox>\n      <RotatingLines\n        strokeColor=\"grey\"\n        strokeWidth=\"5\"\n        animationDuration=\"0.75\"\n        width=\"96\"\n        visible={true}\n      />\n    </LoaderBox>\n  );\n};","import styled from 'styled-components';\n\nexport const MovieItem = styled.div`\n  display: flex;\n  gap: 24px;\n`;\nexport const ItemDetails = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\nexport const AdditionalList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n`;\nexport const AdditionalItem=styled.li`\n    display:block;\n    margin-bottom: 12px;\n    font-size: 16px;\n`","import { Suspense, useRef, useState, useEffect } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { fetchMovieDetails } from 'service/Api';\nimport defaultImg from '../../components/not-found.jpg'\nimport { Loader } from 'components/Loader/Loader';\nimport { AdditionalItem, AdditionalList, ItemDetails, MovieItem } from './MovieDetails.styled';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    setIsLoading(true);\n    const getMovieDetails = async movieId => {\n      try {\n        const data = await fetchMovieDetails(movieId);\n        setMovie(data);\n      } catch (error) {\n        toast.error('Smthg went wrong, we re so sorry.');\n      } finally{setIsLoading(false)}\n    };\n    getMovieDetails(movieId);\n  }, [movieId]);\n  const { title, vote_average, overview, genres, poster_path } = movie;\n  return (\n    <>\n      <Link to={backLinkLocationRef.current}>Go back</Link>\n      {isLoading && <Loader />}\n      <MovieItem>\n      {poster_path\n        ? <img src={`https://image.tmdb.org/t/p/w300${poster_path}`} alt={title} />\n        :<img src={defaultImg} alt={title} />\n        }\n        <ItemDetails>\n      <h2>{title}</h2>\n      <p>User score {Math.round(vote_average)}%</p>\n      <h3>Overview</h3>\n      <p>{overview}</p>\n      <h3>Genres</h3>\n      {genres && genres.length > 0 && (\n        <p>{genres.map(genre => genre.name).join(' ')}</p>\n          )}\n          </ItemDetails>\n        </MovieItem>\n      <h3>Additional information</h3>\n      {movie &&(<AdditionalList>\n        <AdditionalItem>\n          <Link to=\"cast\">Cast</Link>\n        </AdditionalItem>\n        <AdditionalItem>\n          <Link to=\"reviews\">Reviews</Link>\n        </AdditionalItem>\n      </AdditionalList>)}\n      \n      <Suspense fallback={<Loader/>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'adda9a4c76497ae7ac6c1263f748732e';\naxios.defaults.params = { api_key: API_KEY };\n\nexport const fetchTrendingMovies = async () => {\n    try {\n        const responce = await axios.get(`trending/movie/day`);\n        return responce.data;\n    } catch (error) { console.log(error); }\n};\n\nexport const fetchSearchMovies = async (query) => {\n    try {\n        const responce = await axios.get(`/search/movie?query=${query}`);\n        return responce.data;\n    } catch (error) { console.log(error); }\n};\n\nexport const fetchMovieDetails = async (movieId) => {\n    try {\n        const responce = await axios.get(`/movie/${movieId}`);\n        return responce.data;\n    } catch (error) { console.log(error); }\n};\nexport const fetchCast = async movieId => {\n  try {\n    const response = await axios.get(`/movie/${movieId}/credits`);\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const fetchReview = async movieId => {\n  try {\n    const response = await axios.get(`/movie/${movieId}/reviews`);\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\n\n"],"names":["LoaderBox","styled","Loader","strokeColor","strokeWidth","animationDuration","width","visible","MovieItem","ItemDetails","AdditionalList","AdditionalItem","movieId","useParams","useState","movie","setMovie","isLoading","setIsLoading","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","getMovieDetails","fetchMovieDetails","data","toast","title","vote_average","overview","genres","poster_path","Link","to","current","src","alt","defaultImg","Math","round","length","map","genre","name","join","Suspense","fallback","axios","api_key","fetchTrendingMovies","responce","console","log","fetchSearchMovies","query","fetchCast","response","message","fetchReview"],"sourceRoot":""}